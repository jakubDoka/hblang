======== SOURCE ========
fn(): uint {
	i := 0
	loop if i == 4 break else {
		i += 1
	}
	return i
}
======== UNSCHEDULED SON ========
%0 = Start: idepth: 0 [, %1, %2]
%19 = CInt: 1 [, %20]
%11 = CInt: 4 [, %14]
%5 = CInt: 0 [, %6]
%4 = Local: 8, %2 [, %6, %10]
%2 = Mem: %0 [, %6, %4]
%1 = Entry: idepth: 0, %0 [, %7, %6]
%22 = Jmp: idepth: 0, %18 [, %8]
%7 = Jmp: idepth: 0, %1 [, %8]
%18 = Then: idepth: 0, %16 [, %22, %21]
%20 = BinOp: iadd, %13, %19 [, %21]
%14 = BinOp: eq, %13, %11 [, %16]
%10 = Phi: %8, %4, %10 [, %21, %10, %13]
%21 = Store: %18, %12, %10, %20 [, %12]
%6 = Store: %1, %2, %4, %5 [, %12]
%8 = Loop: idepth: 0, %7, %22 [, %16, %12, %10]
%16 = If: idepth: 0, %8, %14 [, %17, %18]
%13 = Load: %12, %10 [, %14, %20, %23]
%12 = Phi: %8, %6, %21 [, %21, %23, %13]
%17 = Then: idepth: 0, %16 [, %23]
%23 = Return: idepth: 0, %17, %12, %13 []

======== OPTIMIZED SON ========
%22 = Jmp: idepth: 0, %18 [, %8]
%7 = Jmp: idepth: 0, %1 [, %8]
%1 = Entry: idepth: 0, %0 [, %7]
%18 = Then: idepth: 0, %26 [, %22]
%11 = CInt: 4 [, %26]
%25 = ImmBinOp: imm: 1, op: addi64, %24 [, %24]
%5 = CInt: 0 [, %24]
%8 = Loop: idepth: 0, %7, %22 [, %24, %26]
%0 = Start: idepth: 0 [, %1, %2]
%26 = IfOp: swapped: false, op: jne, idepth: 0, %8, %24, %11 [, %17, %18]
%24 = Phi: %8, %5, %25 [, %26, %25, %23]
%2 = Mem: %0 [, %23]
%17 = Then: idepth: 0, %26 [, %23]
%23 = Return: idepth: 0, %17, %2, %24 []

======== SCHEDULED SON ========
%0 = Start: idepth: 0
%1 = Entry: idepth: 1, %0
  %5 = CInt: 0
  %11 = CInt: 4
  %27 = MachMove: %5
  %7 = Jmp: idepth: 2
%8 = Loop: idepth: 3, %7, %22
  %29 = Phi: %27, %28
  %26 = IfOp: swapped: false, op: jne, idepth: 4, %29, %11
%17 = Then: idepth: 0, %26
  %23 = Return: idepth: 0, %2, %29
%18 = Then: idepth: 5, %26
  %25 = ImmBinOp: imm: 1, op: addi64, %29
  %28 = MachMove: %25
  %22 = Jmp: idepth: 6

======== CODEGEN ========
main:
       li64 $13, 0
       li64 $14, 4
1:      jne $13, $14, :0
         cp $1, $13
         tx
0:   addi64 $13, $13, 1
        jmp :1

======== EXECUTION ========
    li64 $13=0, 0
    li64 $14=0, 4
     jne $13=0, $14=4, 9
  addi64 $13=0, $13, 1
     jmp -20
     jne $13=1, $14=4, 9
  addi64 $13=1, $13, 1
     jmp -20
     jne $13=2, $14=4, 9
  addi64 $13=2, $13, 1
     jmp -20
     jne $13=3, $14=4, 9
  addi64 $13=3, $13, 1
     jmp -20
     jne $13=4, $14=4, 9
      cp $1=0, $13=4
      tx