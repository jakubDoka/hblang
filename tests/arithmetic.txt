======== SOURCE ========
fn(): uint {
    return 10 - 20 / 2 + 4 * (2 + 2) - 4 * 4 + 1 - 1
}
======== UNSCHEDULED SON ========
%10 = CInt: 2 [, %11]
%9 = CInt: 2 [, %11]
%5 = CInt: 2 [, %6]
%4 = CInt: 20 [, %6]
%11 = BinOp: +, %9, %10 [, %12]
%8 = CInt: 4 [, %12]
%6 = BinOp: /, %4, %5 [, %7]
%3 = CInt: 10 [, %7]
%15 = CInt: 4 [, %16]
%14 = CInt: 4 [, %16]
%12 = BinOp: *, %8, %11 [, %13]
%7 = BinOp: -, %3, %6 [, %13]
%16 = BinOp: *, %14, %15 [, %17]
%13 = BinOp: +, %7, %12 [, %17]
%18 = CInt: 1 [, %19]
%17 = BinOp: -, %13, %16 [, %19]
%20 = CInt: 1 [, %21]
%19 = BinOp: +, %17, %18 [, %21]
%0 = Start: idepth: 0 [, %1, %2]
%21 = BinOp: -, %19, %20 [, %22]
%1 = Mem: %0 [, %22]
%2 = Entry: idepth: 0, %0 [, %22]
%22 = Return: idepth: 0, %2, %1, %21 []

======== OPTIMIZED SON ========
%9 = CInt: 2 [, %23]
%5 = CInt: 2 [, %6]
%4 = CInt: 20 [, %6]
%23 = ImmBinOp: imm: 2, op: addi64, %9 [, %12]
%8 = CInt: 4 [, %12]
%6 = BinOp: /, %4, %5 [, %7]
%3 = CInt: 10 [, %7]
%14 = CInt: 4 [, %24]
%12 = BinOp: *, %8, %23 [, %13]
%7 = BinOp: -, %3, %6 [, %13]
%24 = ImmBinOp: imm: 4, op: muli64, %14 [, %17]
%13 = BinOp: +, %7, %12 [, %17]
%17 = BinOp: -, %13, %24 [, %25]
%25 = ImmBinOp: imm: 1, op: addi64, %17 [, %26]
%0 = Start: idepth: 0 [, %1, %2]
%26 = ImmBinOp: imm: -1, op: addi64, %25 [, %22]
%1 = Mem: %0 [, %22]
%2 = Entry: idepth: 0, %0 [, %22]
%22 = Return: idepth: 0, %2, %1, %26 []

======== SCHEDULED SON ========
%0 = Start: idepth: 0
%2 = Entry: idepth: 1, %0
  %3 = CInt: 10
  %4 = CInt: 20
  %5 = CInt: 2
  %8 = CInt: 4
  %9 = CInt: 2
  %14 = CInt: 4
  %6 = BinOp: /, %4, %5
  %23 = ImmBinOp: imm: 2, op: addi64, %9
  %24 = ImmBinOp: imm: 4, op: muli64, %14
  %7 = BinOp: -, %3, %6
  %12 = BinOp: *, %8, %23
  %13 = BinOp: +, %7, %12
  %17 = BinOp: -, %13, %24
  %25 = ImmBinOp: imm: 1, op: addi64, %17
  %26 = ImmBinOp: imm: -1, op: addi64, %25
  %22 = Return: idepth: 0, %1, %26

======== REGISTER SELECTION ========
{ 1, 2, 3, 4, 5, 6, 2, 3, 5, 1, 2, 1, 1, 1, 1, 1 }

======== CODEGEN ========
main:
    li64 $13, 10
    li64 $14, 20
    li64 $15, 2
    li64 $16, 4
    li64 $17, 2
    li64 $18, 4
  dirs64 $14, $0, $14, $15
  addi64 $15, $17, 2
  muli64 $17, $18, 4
   sub64 $13, $13, $14
   mul64 $14, $16, $15
   add64 $13, $13, $14
   sub64 $13, $13, $17
  addi64 $13, $13, 1
  addi64 $13, $13, -1
      cp $1, $13
      tx

======== EXECUTION ========
    li64 $13=0, 10
    li64 $14=0, 20
    li64 $15=0, 2
    li64 $16=0, 4
    li64 $17=0, 2
    li64 $18=0, 4
  dirs64 $14=20, $0=0, $14, $15=2
  addi64 $15=2, $17=2, 2
  muli64 $17=2, $18=4, 4
   sub64 $13=10, $13, $14=10
   mul64 $14=10, $16=4, $15=4
   add64 $13=0, $13, $14=16
   sub64 $13=16, $13, $17=16
  addi64 $13=0, $13, 1
  addi64 $13=1, $13, -1
      cp $1=0, $13=0
      tx